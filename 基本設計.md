# obsidian-plugin-imagepaste

## 概要

Obsidian 上で `Cmd+Option+V`（Mac）または `Ctrl+Alt+V`（Win）を押下すると、クリップボードの画像を設定済みルールに従って保存し、Markdown エディタへ即時挿入するプラグイン。VS Code の paste image 機能を参考に、日常のメモ作成を効率化する。

## 背景・目的

- Obsidian のデフォルト挙動では、画像貼り付け時の保存場所やファイル名を柔軟に制御できない。
- Paste Image (VS Code Extension) と同等の操作感を提供し、Obsidian を主力メモツールに移行しやすくする。
- 将来的なコミュニティ公開を視野に、再利用性と堅牢性を確保した実装を目指す。

## 想定環境

- Obsidian v1.5 以降 (Desktop)
- Node.js 18.x (プラグイン開発・ビルド環境)
- 対応 OS: macOS / Windows / Linux（Obsidian デスクトップ版がサポートする環境に準拠）

## 機能概要

1. ホットキー `Cmd+Option+V`（Mac）/ `Ctrl+Alt+V`（Win）またはコマンドパレットからのコマンド実行で貼り付け処理を起動。
2. クリップボードから画像データを抽出し、変数展開を適用したファイル名で指定フォルダに保存。
3. 設定された挿入パターンを Obsidian のエディタへ挿入。`Editor.replaceSelection` を利用。
4. 処理結果を通知センターに表示し、失敗時はエラーメッセージ＋トラブルシューティング案内を表示。

## システム構成・ライフサイクル

| フェーズ                    | 主な処理                                                                                                                                                  | 使用 API / 手法                                                                                                                                                |
| --------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| プラグイン初期化 (`onload`) | 設定スキーマの読み込み・デフォルト適用<br>コマンド登録 (`addCommand`)<br>ホットキー登録 (`addCommand` + `hotkeys` 設定)<br>設定画面登録 (`addSettingTab`) | `Plugin` クラス継承, `this.addCommand`, `this.addSettingTab`                                                                                                   |
| 設定保存                    | 設定変更ハンドリング、`saveData()` を通じたシリアライズ                                                                                                   | `Plugin.saveData`, `loadData`                                                                                                                                  |
| 貼り付け処理実行            | エディタコンテキスト取得 (`this.app.workspace.activeEditor?.editor`)<br>クリップボードから画像取得                                                        | **第一選択**: Electron `clipboard` モジュール (`require('electron').clipboard.readImage()`)<br>**フォールバック**: `navigator.clipboard.read()` (HTTPS 環境用) |
| ファイル保存                | 保存先パスの解決 (`normalizePath`)、フォルダ存在確認・作成 (`FileSystemAdapter.exists`, `createFolder`)<br>バイナリ書き込み                               | `this.app.vault.adapter.exists`, `this.app.vault.adapter.mkdir`, `arrayBuffer` → `writeBinary`                                                                 |
| エディタ挿入                | 設定した挿入テンプレートに変数適用後、カーソル位置へ挿入                                                                                                  | `Editor.replaceSelection`                                                                                                                                      |
| エラー処理                  | 失敗理由に応じた通知・ログ出力                                                                                                                            | `new Notice`, `console.error`, `displayErrorMessage`                                                                                                           |
| プラグイン終了 (`onunload`) | コマンド/リスナーのクリーンアップ（Obsidian により自動管理されるが、明示的に参照解放）                                                                    | `Plugin` フレームワーク標準                                                                                                                                    |

## 変数置換仕様

設定内で利用できるテンプレート変数と展開ルールを以下に定義する。変数は `${...}` 形式で記述し、ケースセンシティブ。

| 変数名                         | 説明                                                                                                        | 展開例                                   |
| ------------------------------ | ----------------------------------------------------------------------------------------------------------- | ---------------------------------------- |
| `${currentFileDir}`            | 現在編集中のノートファイルが存在するディレクトリ（Vault ルートからの相対パス）。ルート直下の場合は空文字。  | `projects/note`                          |
| `${currentFileName}`           | 拡張子込みの現在ノート名                                                                                    | `meeting-notes.md`                       |
| `${currentFileNameWithoutExt}` | 拡張子を除いた現在ノート名                                                                                  | `meeting-notes`                          |
| `${imageFileName}`             | 実際に保存された画像ファイル名（拡張子込み）。`namePrefix`, `defaultName`, `timestamp` を組み合わせた結果。 | `meeting-notes_[image]240618_103025.png` |
| `${timestamp}`                 | 日時フォーマット `YYMMDD_HHmmss` を適用した値。`dayjs` などで実装予定。                                     | `240618_103025`                          |
| `${clipboardImageType}`        | 取得した画像の MIME サブタイプ（例: `png`, `jpg`, `gif`）。フォールバックは `png`。                         | `png`                                    |
| `${vaultPath}`                 | Vault ルートの絶対パス。ファイル操作でのみ使用推奨。                                                        | `/Users/you/ObsidianVault`               |

### 日時フォーマットルール

- ベースはローカルタイム。
- `YY`: 西暦下 2 桁、`MM`: 2 桁月、`DD`: 2 桁日、`HHmmss`: 24 時間制、ゼロパディング必須。
- 実装例: `dayjs().format('YYMMDD_HHmmss')`。`dayjs` 非使用の場合は `moment` 互換フォーマットを自前実装。
- テストでは固定日時をモックし、想定フォーマットになるか確認する。

### ファイル名生成ルール

最終的なファイル名は以下の順序で構築される：

1. **接頭辞の展開**: `namePrefix` 内の変数を展開（例: `${currentFileNameWithoutExt}_` → `meeting-notes_`）
2. **本体の展開**: `defaultName` 内の変数を展開（例: `[image]${timestamp}` → `[image]240618_103025`）
3. **結合**: `namePrefix` + `defaultName` を連結
4. **サニタイゼーション**: 禁止文字を除去・置換（`sanitizeFileName` 適用）
5. **拡張子付与**: クリップボード画像形式に基づいて拡張子を追加（`.png`, `.jpg`, `.gif` など）
6. **重複チェック**: 同名ファイルが存在する場合は連番付与（後述）
7. **確定**: 最終ファイル名を `${imageFileName}` 変数として利用可能にする

**生成例**:

| 設定値                                                                                                               | 変数展開後                                                              | 最終ファイル名                                            |
| -------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- | --------------------------------------------------------- |
| `namePrefix`: `${currentFileNameWithoutExt}_`<br>`defaultName`: `[image]${timestamp}`<br>`clipboardImageType`: `png` | `namePrefix`: `meeting-notes_`<br>`defaultName`: `[image]240618_103025` | `meeting-notes_[image]240618_103025.png`                  |
| `namePrefix`: ``（空文字）<br>`defaultName`: `screenshot\_${timestamp}`<br>`clipboardImageType`: `jpg`               | `namePrefix`: ``<br>`defaultName`: `screenshot_240618_103025`           | `screenshot_240618_103025.jpg`                            |
| `namePrefix`: `${currentFileDir}/`<br>`defaultName`: `img`<br>`clipboardImageType`: `png`                            | `namePrefix`: `projects/notes/`<br>`defaultName`: `img`                 | `projects_notes_img.png`（`/` はサニタイズで `_` に置換） |

### ファイル名重複回避ロジック

同名ファイルが既に存在する場合、以下のルールで連番を付与する。

**形式**: `basename (N).ext`（拡張子の直前に番号を挿入）

**ロジック**:

1. 基本ファイル名が存在するかチェック（例: `image.png`）
2. 存在する場合、`basename (1).ext` を試行（例: `image (1).png`）
3. それも存在する場合、N を 2, 3, 4... とインクリメント
4. 最大試行回数: **100 回**
5. 100 回を超えた場合はエラーをスロー（Notice で通知）

**実装例**:

```typescript
function getUniqueFileName(
  baseName: string,
  ext: string,
  folderPath: string
): string {
  let finalName = `${baseName}.${ext}`;
  let counter = 1;
  const maxAttempts = 100;

  while (counter <= maxAttempts) {
    const fullPath = `${folderPath}/${finalName}`;
    if (!this.app.vault.adapter.exists(fullPath)) {
      return finalName;
    }
    finalName = `${baseName} (${counter}).${ext}`;
    counter++;
  }

  throw new Error(
    `ファイル名の重複回避に失敗しました（試行回数: ${maxAttempts}）`
  );
}
```

**注意事項**:

- 複数の拡張子を持つファイル名（例: `archive.tar.gz`）の場合、最後の拡張子の前に番号を挿入（`archive.tar (1).gz`）
- 同時貼り付け（連打）による競合は、ファイル書き込み前の存在チェックで回避

### テンプレート適用順序

1. フォルダパス (`imageFolderPath`) を変数展開。
2. ファイル名を上記「ファイル名生成ルール」に従って生成。
3. 挿入パターン (`insertPattern`) にて、確定した `${imageFileName}` などを置換。
4. パス内の連続スラッシュを正規化し、Vault 相対パスに変換。

## 設定項目とデフォルト値

| 設定キー          | UI ラベル              | デフォルト値                    | 説明 / ヘルプ文                                                            | バリデーション                                                      |
| ----------------- | ---------------------- | ------------------------------- | -------------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `imageFolderPath` | 画像保存先フォルダパス | `${currentFileDir}/images`      | 「画像を保存するフォルダを指定します。Vault 内の相対パスを使用できます。」 | 先頭/末尾の空白を除去。Vault 外参照不可。存在しない場合は自動作成。 |
| `defaultName`     | 画像命名ルール         | `[image]${timestamp}`           | 「ファイル名の本体部分です。`${timestamp}` などの変数を使用できます。」    | 空文字不可。無効文字（`\ / : * ? " < > \|`）は警告。                |
| `namePrefix`      | 画像命名接頭辞         | `${currentFileNameWithoutExt}_` | 「ファイル名の先頭に付与する文字列です。空にすると接頭辞なしになります。」 | 文字数 0–64 まで。無効文字は除去。                                  |
| `insertPattern`   | 画像挿入パターン       | `![[${imageFileName}]]`         | 「ノートへ挿入する Markdown/HTML テンプレートを指定します。」              | `${imageFileName}` を必須。改行を含む場合は `\n` を明示。           |

### 設定画面 UX

- Obsidian 標準の `PluginSettingTab` を利用。各設定の下に 1 行ヘルプ文を表示。
- 数値・配列入力はテキストボックスで受け付け、フォーカスアウト時にバリデーション。エラーはフィールド下部に赤文字で表示。
- テスト用プレビュー: `insertPattern` の横に「プレビュー生成」ボタンを配置し、現在ノートとサンプル日時を使った挿入結果をモーダル表示（任意実装）。
- バリデーション失敗時は `new Notice` と UI 上の警告表示を併用。

## 貼り付け処理フロー

1. **前提チェック**
   - アクティブエディタの存在確認。なければ Notice で警告し終了。
   - クリップボードに画像が含まれるか確認。`navigator.clipboard.read()` が失敗した場合は Electron クリップボードへフォールバック。
2. **画像取得**
   - 許可形式（`supportedFormats`）か判定。不正なら Notice と共に処理中断。
   - `Blob` → `ArrayBuffer` に変換。
3. **ファイルパス決定**
   - フォルダパス展開後、フォルダが存在しない場合は自動的に `mkdir`。失敗時はエラーメッセージ（権限や Vault 外参照など）。
   - ファイル名生成時に既存ファイルと重複する場合は `fileName (1).png` 形式で番号付与。
4. **保存**
   - `this.app.vault.adapter.writeBinary` で保存。成功後はログに記録。
5. **エディタ挿入**
   - 挿入テンプレートを変数展開し、`Editor.replaceSelection`。必要に応じて先頭と末尾に改行追加。
6. **結果通知**
   - `notifyOnSuccess === true` なら Notice。失敗時は通知＋詳細ログ。

## エッジケース・エラー処理方針

- **クリップボードに画像がない**: Notice 表示（「クリップボードに画像が見つかりません」）。処理終了。
- **クリップボード API 未サポート**: Electron 環境依存の `window.require('electron').clipboard.readImage()` を利用。両方失敗した場合は使用方法を案内。
- **保存先フォルダ不存在**: 自動的に再帰的に作成。作成失敗時はエラー通知。
- **ファイル名重複**: `file.png`, `file (1).png`, `file (2).png` と連番で回避。
- **サポート外形式**: 設定の `supportedFormats` に含まれない場合は Notice で拒否し、許可形式を列挙。
- **書き込みエラー**: Vault 読み取り専用、ディスク容量不足等。`console.error` で詳細ログ、Notice で概要表示。
- **挿入テンプレート不備**: `${imageFileName}` が存在しない場合は代替として `![[${imageFileName}]]` を強制挿入しつつ警告を表示。
- **連続貼り付け（連打）**: 処理中フラグを設定し、前回の処理が完了するまで新規リクエストを無視。Notice で「処理中です」と通知。

## セキュリティ仕様

### パストラバーサル対策

すべてのパス操作において、Vault ルート外への参照を厳密に防止する。

#### 実装要件

1. **パス正規化フロー**

   - ユーザ入力パス → 変数展開 → `normalizePath()` 適用 → 絶対パス解決 → Vault 境界チェック

2. **Vault 境界チェック**

   ```typescript
   function isPathSafe(resolvedPath: string, vaultPath: string): boolean {
     const normalized = path.resolve(resolvedPath);
     return normalized.startsWith(path.resolve(vaultPath));
   }
   ```

3. **禁止パターン**

   - `..` を含むパス（正規化後も再チェック）
   - 絶対パス指定（`/`, `C:\` など）
   - シンボリックリンク経由の Vault 外参照

4. **エラー処理**
   - 違反検出時は Notice で警告し、処理を中断
   - ログに違反パスを記録（ただしフルパスは記録しない）

### ファイル名サニタイゼーション

#### 禁止文字の除去

OS 非依存で安全なファイル名を生成するため、以下の文字を除去またはエスケープする。

**禁止文字リスト**: `\ / : * ? " < > |`

**実装方法**:

```typescript
function sanitizeFileName(name: string): string {
  // 禁止文字を置換
  const sanitized = name.replace(/[\\/:*?"<>|]/g, "_");
  // 先頭・末尾の空白・ドットを除去
  return sanitized.trim().replace(/^\.+|\.+$/g, "");
}
```

**追加制約**:

- ファイル名の最大長: 200 文字（拡張子込み）
- 空文字列の場合は `untitled` にフォールバック
- 予約語チェック（Windows）: `CON`, `PRN`, `AUX`, `NUL`, `COM1-9`, `LPT1-9` を拒否

### 入力値検証

| 検証項目           | ルール                          | エラー時の動作               |
| ------------------ | ------------------------------- | ---------------------------- |
| `imageFolderPath`  | Vault 内パス、長さ 500 文字以内 | デフォルト値にフォールバック |
| `defaultName`      | 空文字不可、禁止文字チェック    | サニタイズ後に再検証         |
| `namePrefix`       | 長さ 64 文字以内                | 超過分を切り詰め             |
| `insertPattern`    | `${imageFileName}` を必須で含む | 警告表示後に強制挿入         |
| `supportedFormats` | 少なくとも 1 つの形式が必要     | デフォルト配列で上書き       |

### クリップボードデータの検証

- MIME タイプが `supportedFormats` に含まれるか確認
- 画像データのサイズ上限チェック（後述）
- バイナリデータの破損検証（可能な範囲で PNG/jpg ヘッダーを確認）

### 画像サイズ制限

メモリ枯渇とディスク容量の浪費を防ぐため、画像サイズに上限を設定する。

#### デフォルト設定

| 設定キー       | UI ラベル            | デフォルト値 | 説明                                                   |
| -------------- | -------------------- | ------------ | ------------------------------------------------------ |
| `maxImageSize` | 最大画像サイズ（MB） | `10`         | 貼り付け可能な画像の最大サイズ。0 で無制限（非推奨）。 |

#### 実装仕様

1. **サイズチェックタイミング**: クリップボードから `ArrayBuffer` 取得直後
2. **計算方法**: `arrayBuffer.byteLength` をバイト単位で取得し、MB に変換（`bytes / 1024 / 1024`）
3. **超過時の動作**:
   - Notice で警告表示:「画像サイズが大きすぎます（XX.X MB）。最大サイズは YY MB です。」
   - 処理を中断し、ログに記録
   - 設定画面へのリンクを Notice に表示（可能であれば）

#### 実装例

```typescript
async function validateImageSize(
  buffer: ArrayBuffer,
  maxSizeMB: number
): Promise<void> {
  if (maxSizeMB === 0) return; // 無制限

  const sizeMB = buffer.byteLength / 1024 / 1024;
  if (sizeMB > maxSizeMB) {
    throw new Error(
      `画像サイズが大きすぎます（${sizeMB.toFixed(
        1
      )} MB）。最大サイズは ${maxSizeMB} MB です。`
    );
  }
}
```

#### テストケース

- ✅ 10MB 以下の画像が正常に保存されること
- ✅ 10MB を超える画像が拒否されること
- ✅ `maxImageSize: 0` の場合、サイズチェックがスキップされること
- ✅ エラーメッセージに実際のサイズと上限が表示されること

## 技術的詳細

- **言語・ツールチェーン**: TypeScript, esbuild (Obsidian Plugin Template 準拠)
- **依存ライブラリ候補**: `dayjs`（日時フォーマット）、`@types/node`, `obsidian` 型定義
- **ファイル構成案**
  - `main.ts`: プラグインエントリーポイント
  - `settings.ts`: 設定インターフェース、デフォルト値、保存ロジック
  - `handler.ts`: 貼り付け処理ロジック（テスト容易化のため分離）
  - `utils/path.ts`: パス正規化、変数展開、セキュリティチェック
  - `utils/sanitize.ts`: ファイル名サニタイゼーション
  - `types.ts`: 変数展開に使用する型定義
- **ログ出力**: `console.info/debug` の使用は開発中のみ。リリース時は必要に応じてログレベルを調整。

## ユーザビリティ考慮

- 設定画面に「プラグインの使い方」セクションを追加し、
  - ショートカット `Cmd+Option+V`（Mac）/ `Ctrl+Alt+V`（Win）
  - 設定の適用タイミング（即時反映）
  - ファイル保存場所の確認方法
    を記載。
- 失敗時 Notice に「詳細は開発者ツールの Console を確認してください」と追記し、ユーザにデバッグ方法を提供。
- オンボーディング用途に初回起動時チュートリアル Notice を検討（将来拡張）。

## 開発・テスト計画

### 環境セットアップ

1. Obsidian Plugin Template リポジトリをクローン。
2. `npm install` で依存関係をインストール。
3. `npm run dev` でウォッチビルドを起動し、Obsidian の 「コミュニティプラグイン > 開発者向けホットリロード」機能を利用。
4. テスト Vault を作成し、`data.json` (設定ファイル) を同期。

### テスト戦略

#### 単体テスト (Vitest 推奨)

**変数展開ユーティリティ (`utils/path.ts`)**

- ✅ `${currentFileDir}` がルート直下のノートで空文字を返すこと
- ✅ `${currentFileDir}` がサブフォルダのノートで正しいパスを返すこと（例: `folder/subfolder`）
- ✅ `${currentFileName}` が拡張子込みファイル名を返すこと（例: `note.md`）
- ✅ `${currentFileNameWithoutExt}` が拡張子なしファイル名を返すこと（例: `note`）
- ✅ `${timestamp}` が `YYMMDD_HHmmss` 形式であること（モック時刻: `2024-06-18 10:30:25` → `240618_103025`）
- ✅ `${clipboardImageType}` が MIME タイプから正しく抽出されること（`image/png` → `png`）
- ✅ `${vaultPath}` が Vault の絶対パスを返すこと
- ✅ 未定義変数がそのまま残ること（`${unknownVar}` → `${unknownVar}`）
- ✅ 複数変数の同時展開が正しく動作すること（`${currentFileDir}/${defaultName}.${clipboardImageType}`）

**ファイル名サニタイゼーション (`utils/sanitize.ts`)**

- ✅ 禁止文字 `\ / : * ? " < > |` がアンダースコアに置換されること
- ✅ 先頭・末尾の空白とドットが除去されること（`.  test  .` → `test`）
- ✅ Windows 予約語が拒否されること（`CON`, `PRN`, `AUX`, `NUL`, `COM1`, `LPT1` など）
- ✅ 空文字列が `untitled` にフォールバックすること
- ✅ 200 文字を超えるファイル名が切り詰められること

**ファイル名重複回避ロジック (`handler.ts`)**

- ✅ 同名ファイル存在時に `filename (1).png` 形式で番号付与されること
- ✅ 連番が正しくインクリメントされること（`image.png` → `image (1).png` → `image (2).png`）
- ✅ 最大試行回数（100 回）を超えた場合にエラーがスローされること
- ✅ 拡張子の前に番号が挿入されること（`image.backup.png` → `image.backup (1).png`）

**パスセキュリティ検証 (`utils/path.ts`)**

- ✅ パストラバーサル（`../../../etc/passwd`）が拒否されること
- ✅ 絶対パス（`/tmp/image.png`, `C:\Windows\image.png`）が拒否されること
- ✅ Vault 内の正当なパスが許可されること（`images/screenshot.png`）
- ✅ `normalizePath` 適用後も Vault 境界チェックが機能すること

**設定バリデーション (`settings.ts`)**

- ✅ `imageFolderPath` が 500 文字を超える場合にデフォルト値にフォールバックすること
- ✅ `defaultName` が空文字の場合にエラーがスローされること
- ✅ `namePrefix` が 64 文字を超える場合に切り詰められること
- ✅ `insertPattern` に `${imageFileName}` が含まれない場合に警告が表示されること
- ✅ `supportedFormats` が空配列の場合にデフォルト配列で上書きされること

**日時フォーマット**

- ✅ `dayjs` が `YYMMDD_HHmmss` 形式で出力すること
- ✅ 各フィールドがゼロパディングされること（`2024-01-05 09:08:07` → `240105_090807`）

#### 統合テスト (手動 + 自動化検討)

**正常系**

- ✅ PNG 画像をクリップボードに保存 → `Cmd+Option+V` / `Ctrl+Alt+V` → 指定フォルダに保存 → エディタに挿入
- ✅ jpg 画像の貼り付けが正しく動作すること
- ✅ GIF 画像の貼り付けが正しく動作すること
- ✅ 設定変更（`imageFolderPath`, `defaultName` など）が即時反映されること
- ✅ `notifyOnSuccess: true` 時に成功通知が表示されること

**異常系**

- ✅ クリップボードが空の場合に「画像が見つかりません」と表示されること
- ✅ クリップボードにテキストのみの場合に警告が表示されること
- ✅ サポート外形式（WebP, SVG など）が拒否されること
- ✅ 保存先フォルダが存在せず `autoCreateFolder: false` の場合にエラーが表示されること
- ✅ 保存先フォルダが存在せず `autoCreateFolder: true` の場合に自動作成されること
- ✅ 10MB を超える画像が拒否されること（設定値に応じて）
- ✅ ディスク容量不足時に適切なエラーメッセージが表示されること
- ✅ アクティブエディタが存在しない場合に警告が表示されること

**エッジケース**

- ✅ 連続貼り付け（連打）時に処理が重複しないこと
- ✅ 同一ファイル名で 100 回貼り付けた場合の動作確認
- ✅ 特殊文字を含むノート名での変数展開（例: `📝Meeting Notes!.md`）
- ✅ Vault ルート直下での貼り付け（`${currentFileDir}` が空文字）

#### UI テスト (手動)

- ✅ 設定画面の各フィールドにヘルプ文が表示されること
- ✅ 無効な入力値に対してフィールド下部に赤文字エラーが表示されること
- ✅ 設定保存後に Notice が表示されること
- ✅ プレビュー機能（実装した場合）がモーダルで正しい結果を表示すること

### ビルド・リリース手順

1. `npm run build` で本番ビルド生成。
2. 出力された `main.js`, `manifest.json`, `styles.css` をプラグインフォルダへコピー。
3. バージョン管理: `manifest.json` の `version` を更新し、CHANGELOG を作成。
4. テスト Vault で実機確認。
5. GitHub リリースを作成し、`.zip` にアーカイブして公開（コミュニティ配布時）。
6. Obsidian 公式プラグイン登録を行う場合はガイドラインに沿って PR を提出。

## 参考設定例（Paste Image 模倣）

```json
{
  "imageFolderPath": "${currentFileDir}/images",
  "defaultName": "[image]${timestamp}",
  "insertPattern": "<img src='./images/${imageFileName}' alt='image' style='width: 600px; border: 1px solid black;'>",
  "namePrefix": "${currentFileNameWithoutExt}_",
  "autoCreateFolder": true
}
```

## 既知の課題・今後の拡張

- クリップボード以外（ドラッグ&ドロップ）のサポートはしない。
- 大容量画像の最適化（リサイズ・圧縮）はしない。
- 画像形式の変換（例: PNG → jpg）はしない。
- 動画など、静止画以外のメディアは対象外。
